<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Assignment #2 - Unix and Version Control - Research Computing in Earth Sciences</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="./assignment-2-unix-and-version-control.html">

        <meta name="author" content="Ryan Abernathey and Kerry Key" />
        <meta name="keywords" content="assignment" />
        <meta name="description" content="Due: Thursday, 14 September" />

        <meta property="og:site_name" content="Research Computing in Earth Sciences" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Assignment #2 - Unix and Version Control"/>
        <meta property="og:url" content="./assignment-2-unix-and-version-control.html"/>
        <meta property="og:description" content="Due: Thursday, 14 September"/>
        <meta property="article:published_time" content="2017-09-07" />
            <meta property="article:section" content="assignments" />
            <meta property="article:tag" content="assignment" />
            <meta property="article:author" content="Ryan Abernathey and Kerry Key" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="./theme/css/bootstrap.lumen.min.css" type="text/css"/>
    <link href="./theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="./theme/css/pygments/default.css" rel="stylesheet">
    <link rel="stylesheet" href="./theme/css/style.css" type="text/css"/>
        <link href="./static/custom.css" rel="stylesheet">





</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="./" class="navbar-brand">
Research Computing in Earth Sciences            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="./pages/schedule.html">
                             Schedule
                          </a></li>
                         <li><a href="./pages/syllabus.html">
                             Syllabus
                          </a></li>
                        <li class="active">
                            <a href="./category/assignments.html">Assignments</a>
                        </li>
                        <li >
                            <a href="./category/lectures.html">Lectures</a>
                        </li>
                        <li >
                            <a href="./category/software.html">Software</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="./assignment-2-unix-and-version-control.html"
                       rel="bookmark"
                       title="Permalink to Assignment #2 - Unix and Version Control">
                        Assignment #2 -  Unix and Version Control
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2017-09-07T00:00:00-05:00"> Thu 07 September 2017</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="./tag/assignment.html">assignment</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p><strong>Due: Thursday, 14 September</strong></p>
<p>For this assignment you will use Unix commands to efficiently parse
the contents of the Significant Earthquake Database from the National Geophysical Data Center, NOAA.</p>
<p>Download the database file:</p>
<p><a href="./signif.txt.tsv.zip">signif.txt.tsv.zip</a></p>
<p>Unzip the file. In a terminal, run <code>less</code> or <code>head</code> on this unzipped file to have a peek at its contents. You can also try opening it in your text editor. Unless you are opening it with a really wide screen and terminal window, each line has likely wrapped around a few times. This is a tab separated data file and the first line contains the headers of each column. When viewing the file with <code>less</code> on my laptop, the header line wraps around 4 times.  </p>
<p>Clearly this file contains some interesting data, but its very difficult to visually inspect the contents in a terminal window. Tables like this are actually better viewed in a spreadsheet application like Excel or Google Sheets, but this file has so much data its hard to make sense of it even when viewed in a spreadsheet.</p>
<p>The purpose of this assignment is to use a few Unix commands to analyze the data. For each question below, use one or more Unix commands to compute the answer. All questions except #'s 9, 10 and 12 should be answered with a single line of unix commands, using pipes <code>|</code> where necessary.</p>
<p><strong>Create a text file called <code>answers.txt</code> and copy the questions into it. For each question, list  the unix command sequence you used and the answer it produces.</strong></p>
<ol>
<li>
<p>How many earthquakes are listed in the table?</p>
</li>
<li>
<p>How many columns are in the table?</p>
</li>
<li>
<p>Use the <code>cut</code> command to create a new file that just has the data from the columns for YEAR, EQ_PRIMARY and COUNTRY. Hint: you can get the column numbers by using the <code>head</code> command to view the first row and then visually count the column numbers for the above fields (there is also a unix command to do this, but we didn't cover it in class).  Call the new data file 'Year_Mag_Country.tsv'. You can use 'Year_Mag_Country.tsv' for the rest of the exercises below.</p>
</li>
<li>
<p>EQ_PRIMARY is the assigned earthquake magnitude. With your new file 'Year_Mag_Country.tsv', sort the data based on the <em>numeric</em> value of the EQ_PRIMARY column, then list the lines for the top ten largest earthquakes.</p>
</li>
<li>
<p>How many unique countries are listed in the database? Use <code>cut</code>,<code>sort</code>,<code>uniq</code>, <code>wc</code> and a few pipes <code>|</code> to form a single expression that answers this question.</p>
</li>
<li>
<p>Use the <code>grep</code> command to count how many earthquakes in the database are located in the USA or USA TERRITORY</p>
</li>
<li>
<p>Expanding on the previous exercise, refine your command sequence so that it only counts earthquakes in the USA and not ones in USA TERRITORY. Hint: use the -v argument with grep and you
may need to call grep more than once.</p>
</li>
<li>
<p>Compute the total number of earthquakes in each country and then display the top ten countries along with the number of earthquakes. Hint: this can be done with a command sequence similar to exercise 5, but requires a specific argument to be used with <code>uniq</code>.</p>
</li>
<li>
<p>Create a shell script named <code>countEq.sh</code> that returns the total number of earthquakes for a given country, where the country is specified as the option when calling the script. Hint: see the Shell Script notes and use the special variable <code>$1</code>.  Paste your script  below and give an example calling sequence for country USA.</p>
</li>
<li>
<p>Create a shell script named <code>countEq_getLargestEq.sh</code> that returns both the total number of earthquakes AND the largest earthquake for a given country, where the country is specified as the option when calling the script. Use the echo command before each command to create labels for each returned value. Paste your script  below and give an example calling sequence for country CHILE.   </p>
</li>
<li>
<p>Compute the total number of earthquakes <em>each year</em> and then output a sorted list of the top ten years with the most earthquakes. Paste your command and the top ten list below.</p>
</li>
<li>
<p>Create a shell script that loops over the top ten years with the most earthquakes (from exercise 11), finds all the earthquakes for a given year and writes them to file named $YEAR-earthquakes.txt, where $YEAR is the for loop variable assigned from the top ten list. Your code should output ten different files (one for each year in the top ten list). Hints: Take your answer from exercise 11 and extract the year column, then use this for the range in a <code>for</code> loop by inserting them like this <code>for YEAR in $(insert code that lists top ten years here)</code>. The rest is just a <code>grep</code> and  a redirect <code>&gt;</code> to a file with the correct name.  </p>
</li>
<li>
<p>Turn in your homework by sharing it with us on a GitHub repository.  Instructions: on GitHub, create a <em>private</em> git repository called Assignment_2. Share this repository with users <code>roxyboy</code> (Takaya Uchida), <code>kerrykey</code> and <code>rabernat</code>. Clone the repository to your laptop.  Save your answers to the exercises above in a text file called <code>answers.txt</code>. Use git to <code>commit</code> <code>answers.txt</code> to your repository on your laptop, and then <code>push</code> the changes to the remote repository on GitHub.   </p>
</li>
</ol>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="./intro-to-fortran.html">Intro to Fortran</a></li>
    <li class="list-group-item"><a href="./assignment-4-matlab.html">Assignment #4 -  MATLAB</a></li>
    <li class="list-group-item"><a href="./intro-to-matlab.html">Intro to MATLAB</a></li>
    <li class="list-group-item"><a href="./assignment-3-introduction-to-python.html">Assignment 3: Introduction to Python</a></li>
    <li class="list-group-item"><a href="./intro-to-python.html">Introduction to Python</a></li>
    <li class="list-group-item"><a href="./assignment-2-unix-and-version-control.html">Assignment #2 -  Unix and Version Control</a></li>
    <li class="list-group-item"><a href="./assignment-submission-instructions.html">Assignment Submission Instructions</a></li>
    <li class="list-group-item"><a href="./intro-to-git.html">Intro to Git</a></li>
    <li class="list-group-item"><a href="./intro-to-unix-part-1.html">Intro to Unix, Part 1</a></li>
    <li class="list-group-item"><a href="./intro-to-unix-part-2-navigating-files-and-directories.html">Intro to Unix, Part 2: Navigating Files and Directories</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Tag Cloud -->
<li class="list-group-item">
  <a href="./"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
  <ul class="list-group " id="tags">
    <li class="list-group-item tag-1">
      <a href="./tag/bash.html">bash</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="./tag/file-system.html">file system</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="./tag/shell.html">shell</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="./tag/unix.html">unix</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="./tag/assignment.html">assignment</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="./tag/python.html">python</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="./tag/fortran.html">fortran</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="./tag/git.html">git</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="./tag/matlab.html">MATLAB</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="./tag/vpn.html">vpn</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="./tag/geomapapp.html">GeoMapApp</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="./tag/programming.html">programming</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="./tag/source-code-editor.html">source code editor</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="./tag/gmt.html">gmt</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="./tag/github.html">github</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="./tag/version-control.html">version control</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Tag Cloud -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2017 Ryan Abernathey and Kerry Key
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>                <p><small>  <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/deed.en"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/deed.en">Creative Commons Attribution-NonCommercial 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="./theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="./theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="./theme/js/respond.min.js"></script>

    <script src="./theme/js/bodypadding.js"></script>


</body>
</html>